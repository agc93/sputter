<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Home Assistant Add-on | Sputter Docs</title>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Run Sputter inside Home Assistant"><meta name=keywords content="Documentation,Hugo,Hugo Theme,Bootstrap"><meta name=author content="Colin Wilson - Lotus Labs"><meta name=email content="support@aigis.uk"><meta name=website content="https://lotusdocs.dev"><meta name=Version content="v0.1.0"><link rel=icon href=../../../../favicon.ico sizes=any><link rel=icon type=image/svg+xml href=../../../../favicon.svg><link rel=apple-touch-icon sizes=180x180 href=../../../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../../../favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=../../../../site.webmanifest><meta property="og:title" content="Home Assistant Add-on"><meta property="og:description" content="Run Sputter inside Home Assistant"><meta property="og:type" content="article"><meta property="og:url" content="/docs/server/home-assistant/addon/"><meta property="og:image" content="/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_14180723019214474241.png"><meta property="article:section" content="docs"><meta property="article:published_time" content="2023-01-21T16:13:15+00:00"><meta property="article:modified_time" content="2023-01-21T16:13:15+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_14180723019214474241.png"><meta name=twitter:title content="Home Assistant Add-on"><meta name=twitter:description content="Run Sputter inside Home Assistant"><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><script type=text/javascript src=../../../../docs/js/flexsearch.bundle.min.70b92c4c5202c26b45d7aa43e130e8440032cac751b9b9206ddba2052699286ac95beb01bb7f975514cc694a019a03c8.js integrity=sha384-cLksTFICwmtF16pD4TDoRAAyysdRubkgbduiBSaZKGrJW+sBu3+XVRTMaUoBmgPI crossorigin=anonymous></script><link rel=preconnect href=https://fonts.gstatic.com/><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css?family=Inter:300,400,600,700|Fira+Code:500,700&display=block" rel=stylesheet><link rel=stylesheet href=../../../../docs/scss/style.min.16aa7c5d3b56a125df02e99ee767e8a59480dcbae2f2598c8ab1667d1497c633b9f921e0cde823b786d8943b1eea0dc5.css integrity=sha384-Fqp8XTtWoSXfAume52fopZSA3Lri8lmMirFmfRSXxjO5+SHgzegjt4bYlDse6g3F crossorigin=anonymous></head><body><div class=content><div class="page-wrapper toggled"><nav id=sidebar class=sidebar-wrapper><div class=sidebar-brand><a href=../../../../ aria-label=HomePage alt=HomePage><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></a></div><div class=sidebar-content style="height:calc(100% - 131px)"><ul class=sidebar-menu><li><a class=sidebar-root-link href=../../../../docs/introduction/><i class="material-icons me-2">circle</i>
Introduction</a></li><li><a class=sidebar-root-link href=../../../../docs/quickstart/><i class="material-icons me-2">rocket_launch</i>
Quickstart</a></li><li><a class=sidebar-root-link href=../../../../docs/command-line/><i class="material-icons me-2">terminal</i>
Command-Line/CLI</a></li><li class="sidebar-dropdown current active"><button class=btn>
<i class="material-icons me-2">api</i>
Sputter Server</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=../../../../docs/server/usage/>Usage</a></li><li><a class=sidebar-nested-link href=../../../../docs/server/configuration/>Configuration</a></li><li class="sidebar-dropdown nested current active"><button class=btn>
Home Assistant</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=../../../../docs/server/home-assistant/integration/>Home Assistant Integration</a></li><li class=current><a class=sidebar-nested-link href=../../../../docs/server/home-assistant/addon/>Home Assistant Add-on</a></li></ul></div></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">quick_reference_all</i>
Reference</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=../../../../docs/reference/adapters/>Adapters</a></li><li><a class=sidebar-nested-link href=../../../../docs/reference/sensors/>Sensors and States</a></li><li><a class=sidebar-nested-link href=../../../../docs/reference/mqtt/>MQTT</a></li></ul></div></li></ul></div><ul class="sidebar-footer list-unstyled mb-0"></ul></nav><main class="page-content bg-transparent"><div id=top-header class="top-header d-print-none"><div class="header-bar d-flex justify-content-between"><div class="d-flex align-items-center"><a href=../../../../ class="logo-icon me-3" aria-label=HomePage alt=HomePage><div class=small><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></div><div class=big><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></div></a><button id=close-sidebar class="btn btn-icon btn-soft">
<span class="material-icons size-20 menu-icon align-middle">menu</span>
</button>
<button id=flexsearch-button class="ms-3 btn btn-soft" data-bs-toggle=collapse data-bs-target=#FlexSearchCollapse aria-expanded=false aria-controls=FlexSearchCollapse>
<span class="material-icons size-20 menu-icon align-middle">search</span>
<span class="flexsearch-button-placeholder ms-1 me-2 d-none d-sm-block">Search</span><div class="d-none d-sm-block"><span class=flexsearch-button-keys><kbd class=flexsearch-button-cmd-key><svg width="44" height="15"><path d="M2.118 11.5A1.519 1.519.0 011 11.042 1.583 1.583.0 011 8.815a1.519 1.519.0 011.113-.458h.715V6.643h-.71A1.519 1.519.0 011 6.185 1.519 1.519.0 01.547 5.071 1.519 1.519.0 011 3.958 1.519 1.519.0 012.118 3.5a1.519 1.519.0 011.114.458A1.519 1.519.0 013.69 5.071v.715H5.4V5.071A1.564 1.564.0 016.976 3.5 1.564 1.564.0 018.547 5.071 1.564 1.564.0 016.976 6.643H6.261V8.357h.715a1.575 1.575.0 011.113 2.685 1.583 1.583.0 01-2.227.0A1.519 1.519.0 015.4 9.929V9.214H3.69v.715a1.519 1.519.0 01-.458 1.113A1.519 1.519.0 012.118 11.5zm0-.857a.714.714.0 00.715-.714V9.214H2.118a.715.715.0 100 1.429zm4.858.0a.715.715.0 100-1.429H6.261v.715a.714.714.0 00.715.714zM3.69 8.357H5.4V6.643H3.69zM2.118 5.786h.715V5.071a.714.714.0 00-.715-.714.715.715.0 00-.5 1.22A.686.686.0 002.118 5.786zm4.143.0h.715a.715.715.0 00.5-1.22.715.715.0 00-1.22.5z" fill="currentcolor"/><path d="M12.4 11.475H11.344l3.879-7.95h1.056z" fill="currentcolor"/><path d="M25.073 5.384l-.864.576a2.121 2.121.0 00-1.786-.923 2.207 2.207.0 00-2.266 2.326 2.206 2.206.0 002.266 2.325 2.1 2.1.0 001.782-.918l.84.617a3.108 3.108.0 01-2.622 1.293 3.217 3.217.0 01-3.349-3.317 3.217 3.217.0 013.349-3.317A3.046 3.046.0 0125.073 5.384z" fill="currentcolor"/><path d="M30.993 5.142h-2.07v5.419H27.891V5.142h-2.07V4.164h5.172z" fill="currentcolor"/><path d="M34.67 4.164c1.471.0 2.266.658 2.266 1.851.0 1.087-.832 1.809-2.134 1.855l2.107 2.691h-1.28L33.591 7.87H33.07v2.691H32.038v-6.4zm-1.6.969v1.8h1.572c.832.0 1.22-.3 1.22-.918s-.411-.882-1.22-.882z" fill="currentcolor"/><path d="M42.883 10.561H38.31v-6.4h1.033V9.583h3.54z" fill="currentcolor"/></svg>
</kbd><kbd class=flexsearch-button-key><svg width="15" height="15"><path d="M5.926 12.279H4.41L9.073 2.721H10.59z" fill="currentcolor"/></svg></kbd></span></div></button></div><div class="d-flex align-items-center"><ul class="list-unstyled mb-0"><li class="list-inline-item mb-0"><a href=https://github.com/agc93/sputter alt=github rel="noopener noreferrer" target=_blank><div class="btn btn-icon btn-default border-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></div></a></li></ul><button id=mode class="btn btn-icon btn-default ms-2" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><title>Enable dark mode</title><path d="M24 42q-7.5.0-12.75-5.25T6 24t5.25-12.75T24 6q.4.0.85.025.45.025 1.15.075-1.8 1.6-2.8 3.95t-1 4.95q0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6.0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42zm0-3q5.45.0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75.0-9.775-4.025T19.2 15q0-1.2.25-2.575t.9-3.125q-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39zm-.2-14.85z"/></svg>
</span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><title>Enable light mode</title><path d="M24 31q2.9.0 4.95-2.05T31 24t-2.05-4.95T24 17t-4.95 2.05T17 24t2.05 4.95T24 31zm0 3q-4.15.0-7.075-2.925T14 24t2.925-7.075T24 14t7.075 2.925T34 24t-2.925 7.075T24 34zM3.5 25.5q-.65.0-1.075-.425Q2 24.65 2 24t.425-1.075Q2.85 22.5 3.5 22.5h5q.65.0 1.075.425Q10 23.35 10 24t-.425 1.075T8.5 25.5zm36 0q-.65.0-1.075-.425Q38 24.65 38 24t.425-1.075T39.5 22.5h5q.65.0 1.075.425Q46 23.35 46 24t-.425 1.075-1.075.425zM24 10q-.65.0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2t1.075.425T25.5 3.5v5q0 .65-.425 1.075Q24.65 10 24 10zm0 36q-.65.0-1.075-.425T22.5 44.5v-5q0-.65.425-1.075Q23.35 38 24 38t1.075.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46zM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05.0.6-.4 1-.4.45-1.025.45T12 14.1zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45zM33.9 14.1q-.45-.45-.45-1.05.0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4t-1.075-.4zM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6.0 1.05.45.45.45.45 1.05.0.6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425zM24 24z"/></svg></span></button></div></div><div class=collapse id=FlexSearchCollapse><div class=flexsearch-container><div class=flexsearch-keymap><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd>
<kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd>
<span class=flexsearch-key-label>to navigate</span></li><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd>
<span class=flexsearch-key-label>to select</span></li><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd>
<span class=flexsearch-key-label>to close</span></li></div><form class="flexsearch position-relative flex-grow-1 ms-2 me-2"><div class="d-flex flex-row"><input id=flexsearch class=form-control type=search placeholder=Search aria-label=Search autocomplete=off>
<button id=hideFlexsearch type=button class="ms-2 btn btn-soft">
cancel</button></div><div id=suggestions class="shadow rounded-1 d-none"></div></form></div></div></div><div class=container-fluid><div class=layout-spacing><div class="d-md-flex justify-content-between align-items-center"><nav aria-label=breadcrumb class="d-inline-block pb-2 mt-1 mt-sm-0"><ul id=breadcrumbs class="breadcrumb bg-transparent mb-0" itemscope itemtype=https://schema.org/BreadcrumbList><li class="breadcrumb-item text-capitalize active" aria-current=page itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=../../../../docs/><i class="material-icons size-20 align-text-bottom" itemprop=name>Home</i>
</a><meta itemprop=position content='1'></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=../../../../docs/server/><span itemprop=name>Sputter Server</span>
</a><meta itemprop=position content='2'></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=../../../../docs/server/home-assistant/><span itemprop=name>Home Assistant</span>
</a><meta itemprop=position content='3'></li><li class="breadcrumb-item text-capitalize active" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>Home Assistant Add-on</span>
<meta itemprop=position content='4'></li></ul></nav></div><div class="row flex-xl-nowrap"><div class="docs-toc col-xl-3 d-xl-block"><toc><div class="fw-bold text-uppercase mb-2">On this page</div><nav id=toc><ul><li><a href=#installation>Installation</a></li><li><a href=#configuration>Configuration</a><ul><li><a href=#network-ports>Network Ports</a></li></ul></li></ul></nav></toc></div><div class="docs-toc-mobile d-print-none d-xl-none"><button id=toc-dropdown-btn class="btn-secondary dropdown-toggle" type=button data-bs-toggle=dropdown data-bs-offset=0,0 aria-expanded=false>
Table of Contents</button><nav id=toc-mobile><ul class=dropdown-menu><li><a href=#installation>Installation</a></li><li><a href=#configuration>Configuration</a><ul><li><a href=#network-ports>Network Ports</a></li></ul></li></ul></nav></div><div class="docs-content col-12 col-xl-9 mt-0"><div class="mb-0 d-flex"><i class="material-icons title-icon me-2">add_home</i><h1 class="content-title mb-0">Home Assistant Add-on</h1></div><p class="lead mb-3">Run Sputter inside Home Assistant</p><div id=content class=main-content data-bs-spy=scroll data-bs-root-margin="0px 0px -65%" data-bs-target=#toc-mobile><div data-prismjs-copy data-prismjs-copy-success data-prismjs-copy-error><div class="alert alert-danger d-flex" role=alert><div class="flex-shrink-1 alert-icon">⚠</div><div class=w-100>The Home Assistant add-on is in <strong>extremely</strong> early preview and has not been tested much. Use with caution!</div></div><p>We provide a Home Assistant add-on for running Sputter inside supported Home Assistant installations.</p><p>This is particularly useful when you are running Home Assistant on the same hardware as the drives you&rsquo;re trying to monitor, or when using the <a data-bs-delay='{"hide":300,"show":550}' data-bs-html=true data-bs-title="<a href='../../../../docs/server/configuration/'><p>SPUTTER SERVER</p><strong>Configuration</strong><br>Customizing the functionality of your Sputter server</a>" data-bs-toggle=tooltip href=../../../../docs/server/configuration/#scrutiny-support>Scrutiny integration</a>.</p><h2 id=installation>Installation <a href=#installation class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p>From the <em>Settings > Add-ons > Add-on Store</em> menu, click the overflow menu in the top-right, choose <em>Repositories</em> and add <code>https://github.com/agc93/sputter</code>. Back in the <code>Add-on Store</code> screen, you should now have the option to install Sputter.</p><h2 id=configuration>Configuration <a href=#configuration class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p>From the <em>Settings > Add-ons > Sputter</em> screen, click over to the <em>Configuration</em> tab, and fill out the options relevant to your setup. Make sure to toggle on the <strong>Show unused optional configuration options</strong> option at the bottom to see all the optional configuration options.</p><h3 id=network-ports>Network Ports <a href=#network-ports class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>Since Sputter doesn&rsquo;t (currently) have a proper web UI, we deliberately expose the API port through a &ldquo;host port&rdquo; from the add-on. You can change what port on your host to expose the API on using the <em>Network</em> section at the bottom of the Configuration page.</p></div></div><div><hr class=doc-hr><div id=doc-nav class=d-print-none><div class="row flex-xl-nowrap"><div class="col-sm-6 pt-2 doc-next"><a href=../../../../docs/server/home-assistant/integration/><div class="card h-100 my-1"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0"><i class="material-icons align-middle">navigate_before</i> Home Assistant Integration</p><p class="card-text ms-2">Integrate Sputter with Home …</p></div></div></a></div><div class="col-sm-6 pt-2 doc-prev"><a class=ms-auto href=../../../../docs/reference/adapters/><div class="card h-100 my-1 text-end"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0">Adapters <i class="material-icons align-middle">navigate_next</i></p><p class="card-text me-2">Available data sources for …</p></div></div></a></div></div></div></div></div></div></div></div><footer class="shadow py-3 d-print-none"><div class=container-fluid><div class="row align-items-center"><div class=col><div class="text-sm-start text-center mx-md-2"><p class=mb-0>© 2024 agc93. Built with <a href=https://github.com/colinwilson/lotusdocs><strong>Lotus Docs</strong></a></p></div></div></div></div></footer></main></div></div><button onclick=topFunction() id=back-to-top aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12 10.224l-6.3 6.3-1.38-1.372L12 7.472l7.68 7.68-1.38 1.376z" style="fill:#fff"/></svg></button>
<script>(()=>{var e=document.getElementById("mode");e!==null&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")):(localStorage.setItem("theme","light"),document.documentElement.removeAttribute("data-dark-mode"))}),e.addEventListener("click",()=>{document.documentElement.toggleAttribute("data-dark-mode"),localStorage.setItem("theme",document.documentElement.hasAttribute("data-dark-mode")?"dark":"light")}),localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-dark-mode",""):document.documentElement.removeAttribute("data-dark-mode"))})()</script><script src=../../../../docs/js/bootstrap.c7927bdd82eceb076739257add3f4b0e11379da037c07d5c7110daeb6de0e3edcb2de867604550f88815157e4ec4ddb7.js integrity=sha384-x5J73YLs6wdnOSV63T9LDhE3naA3wH1ccRDa623g4+3LLehnYEVQ+IgVFX5OxN23 defer></script><script type=text/javascript src=../../../../docs/js/bundle.min.ae2b3b4bbd3e20733dfdde283932656ca1346213a123ef4d8a093eb07bc66881ea360d1194a4c8454b4bda0234e1947e.js integrity=sha384-ris7S70+IHM9/d4oOTJlbKE0YhOhI+9Nigk+sHvGaIHqNg0RlKTIRUtL2gI04ZR+ crossorigin=anonymous defer></script><script type=module>
    var suggestions = document.getElementById('suggestions');
    var search = document.getElementById('flexsearch');

    const flexsearchContainer = document.getElementById('FlexSearchCollapse');

    const hideFlexsearchBtn = document.getElementById('hideFlexsearch');

    const configObject = { toggle: false }
    const flexsearchContainerCollapse = new Collapse(flexsearchContainer, configObject) 

    if (search !== null) {
        document.addEventListener('keydown', inputFocus);
        flexsearchContainer.addEventListener('shown.bs.collapse', function () {
            search.focus();
        });
        
        var topHeader = document.getElementById("top-header");
        document.addEventListener('click', function(elem) {
            if (!flexsearchContainer.contains(elem.target) && !topHeader.contains(elem.target))
                flexsearchContainerCollapse.hide();
        });
    }

    hideFlexsearchBtn.addEventListener('click', () =>{
        flexsearchContainerCollapse.hide()
    })

    function inputFocus(e) {
        if (e.ctrlKey && e.key === '/') {
            e.preventDefault();
            flexsearchContainerCollapse.toggle();
        }
        if (e.key === 'Escape' ) {
            search.blur();
            
            flexsearchContainerCollapse.hide();
        }
    };

    document.addEventListener('click', function(event) {

    var isClickInsideElement = suggestions.contains(event.target);

    if (!isClickInsideElement) {
        suggestions.classList.add('d-none');
    }

    });

    


    document.addEventListener('keydown',suggestionFocus);

    function suggestionFocus(e) {
    const suggestionsHidden = suggestions.classList.contains('d-none');
    if (suggestionsHidden) return;

    const focusableSuggestions= [...suggestions.querySelectorAll('a')];
    if (focusableSuggestions.length === 0) return;

    const index = focusableSuggestions.indexOf(document.activeElement);

    if (e.key === "ArrowUp") {
        e.preventDefault();
        const nextIndex = index > 0 ? index - 1 : 0;
        focusableSuggestions[nextIndex].focus();
    }
    else if (e.key === "ArrowDown") {
        e.preventDefault();
        const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
        focusableSuggestions[nextIndex].focus();
    }

    }

    


    (function(){

    var index = new FlexSearch.Document({
        
        tokenize: "forward",
        minlength:  0 ,
        cache:  100 ,
        optimize:  true ,
        document: {
        id: 'id',
        store: [
            "href", "title", "description"
        ],
        index: ["title", "description", "content"]
        }
    });


    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    

    

    index.add(
            {
                id:  0 ,
                href: "\/docs\/",
                title: "Documentation",
                description: "Explore our guides and examples to get started with Sputter.",
                content: ""
            }
        );
    index.add(
            {
                id:  1 ,
                href: "\/docs\/introduction\/",
                title: "Introduction",
                description: "An introduction to the Sputter project",
                content: "Sputter is a flexible and highly configurable API server to retrieve hard drive temperatures, and optionally publish them via MQTT.\nIn short, Sputter will gather up hard drive temperatures from a number of sources either on-demand or on a timer, and then return those temperatures while optionally also publishing those values over MQTT. Sputter also includes first-class support for Home Assistant so it can publish those temperatures as entities in Home Assistant.\nIf you just want to get started with setting Sputter up for yourself, you can probably skip the rest of this topic and move on to the "
            }
        );
    index.add(
            {
                id:  2 ,
                href: "\/docs\/quickstart\/",
                title: "Quickstart",
                description: "Getting started with setting up Sputter for yourself",
                content: "Due to its flexibility and extensibility (and its complexity behind the scenes), there’s a few ways of getting started with Sputter. The first choice is which tool you want to use: the CLI or the Server.\nCLI: Standalone command-line-only utility to gather drive temperatures from all the supported sources and outputs them to the console, optionally also publishing the measurements to an MQTT server. Server: Server application that runs a HTTP API that you can query to gather drive measurements and optionally publish those measurements to an MQTT server and/or to Home Assistant. Can also be configured to gather and publish measurements on a timer for automation. 💡 Both versions of Sputter will run on both Windows and Linux! Just download the right binary for your target platform. Command-Line Interface (CLI) linkDownload the correct release from GitHub Releases, making sure to download the matching sputter-console-* file for your target platform/architecture of choice. Unzip the archive somewhere convenient and run sputter -h/sputter.exe -h to see the contextual help.\nRunning the CLI without any arguments will (by default) output all measurements (and states/sensors) for any local drives in a human-readable table format.\nSputter Server linkYou can run the server a few different ways but to keep things brief here, we’ll only cover the two simplest ones: Docker and natively.\nDocker linkThere is a pre-built Docker image available on Quay.io. For example:\ndocker run -it --rm -p 8080:8080 quay.io/sputter/server:0.0.0-preview.0.16 If you now hit http://localhost:8080/measurements, Sputter will use the HWMon adapter to discover and measure any drives from your host system.\n❔ If you don’t see any results, you might need to enable the DBus adapter! Check "
            }
        );
    index.add(
            {
                id:  3 ,
                href: "\/docs\/command-line\/",
                title: "Command-Line/CLI",
                description: "Get more familiar with the Sputter Command-Line Interface (CLI)",
                content: " 💡 The Sputter CLI supports both Windows and Linux! Just download the right binary for your target platform. Getting Help linkYou can use the -h/--help option to get help for the available commands and options when using the CLI:\nUSAGE: sputter.exe [filter] [OPTIONS] ARGUMENTS: [filter] OPTIONS: -h, --help Prints help information -v, --version Prints version information --scrutiny-api --mqtt-server --mqtt-credentials The default command will discover any local drives using the "
            }
        );
    index.add(
            {
                id:  4 ,
                href: "\/docs\/server\/",
                title: "Sputter Server",
                description: "Guides and configuration for the Sputter API server",
                content: ""
            }
        );
    index.add(
            {
                id:  5 ,
                href: "\/docs\/server\/usage\/",
                title: "Usage",
                description: "Setting up the Sputter Server and running it.",
                content: "As outlined in "
            }
        );
    index.add(
            {
                id:  6 ,
                href: "\/docs\/server\/configuration\/",
                title: "Configuration",
                description: "Customizing the functionality of your Sputter server",
                content: "The default behaviour of Sputter should work fine for many use cases, but Sputter is designed to be super-configurable to adapt to whatever weird use case you can come up with.\nConfiguration linkThe Sputter server reads its configuration from a few different places, but we recommend using environment variables if you just want to tweak one or two things, or use a configuration file if you want to customize things in more detail.\nConfiguration File linkThe Sputter server will load configuration from either an appsettings.json or sputter.json file in the directory you run the server from, if they are present. These files must be valid JSON files but can include only the configuration parts you want to adjust, and the server will fall back to defaults for any configuration you don’t include.\nnotifications Generally speaking, you don’t need to restart the Sputter server when updating the configuration file! If you’re having issues though, try restarting the server. Environment Variables linkAny configuration option can be specified with either a configuration file or with environment variables. This can be particularly convenient when using the Docker container, especially if you’re only changing one or two options.\nDrive Filters linkWhen the server runs a measurement (either from a HTTP request or "
            }
        );
    index.add(
            {
                id:  7 ,
                href: "\/docs\/server\/home-assistant\/",
                title: "Home Assistant",
                description: "Sputter's Home Assistant Integration",
                content: ""
            }
        );
    index.add(
            {
                id:  8 ,
                href: "\/docs\/server\/home-assistant\/integration\/",
                title: "Home Assistant Integration",
                description: "Integrate Sputter with Home Assistant automatically",
                content: "Sputter comes bundled with optional Home Assistant support that can seamlessly create new entities in Home Assistant for discovered drives. Once enabled, any time Sputter publishes measurements (after requests, or on a schedule) you’ll be able to immediately see updated values right in Home Assistant.\nConfiguration linkTo enable the Home Assistant support, you’ll need to first set up "
            }
        );
    index.add(
            {
                id:  9 ,
                href: "\/docs\/server\/home-assistant\/addon\/",
                title: "Home Assistant Add-on",
                description: "Run Sputter inside Home Assistant",
                content: " ⚠ The Home Assistant add-on is in extremely early preview and has not been tested much. Use with caution! We provide a Home Assistant add-on for running Sputter inside supported Home Assistant installations.\nThis is particularly useful when you are running Home Assistant on the same hardware as the drives you’re trying to monitor, or when using the "
            }
        );
    index.add(
            {
                id:  10 ,
                href: "\/docs\/reference\/",
                title: "Reference",
                description: "Additional information for some of Sputter's features",
                content: ""
            }
        );
    index.add(
            {
                id:  11 ,
                href: "\/docs\/reference\/adapters\/",
                title: "Adapters",
                description: "Available data sources for disk temperatures.",
                content: "About Adapters linkAdapters are the method Sputter uses to discover available drives and gather measurements (including the temperature). In short, Sputter itself (either the CLI or the Server) will poll any available adapters looking for drives, gather measurements ("
            }
        );
    index.add(
            {
                id:  12 ,
                href: "\/docs\/reference\/sensors\/",
                title: "Sensors and States",
                description: "An introduction on how Sputter measures drive attributes",
                content: "When Sputter measures drives, it gathers collections of two primitives for each drive measures: sensors and states.\nThis design is specifically to keep Sputter flexible and extensible, but it can make things a little daunting at first. REad more below, but it’s really not that complex once you get into it.\nWhen Sputter runs a measurement (either on-demand or on a schedule) it polls all the available adapters for drives, filters them (if applicable) then runs each available drive through all the available adapters to gather sensors and states. That means what measurements are returned for a drive will depend on which adapters ran (and what the drive provides).\nSensors linkSensors are the “main” metric that Sputter is designed for, with particular attention to one specific sensor: temperature. Sputter’s drive temperature measurements are (internally) just a sensor with the name of Temperature. As of the initial release, the only sensor that Sputter gathers by default is the temperature, but with this design we could potentially expose other values as sensors. Each adapter has its own method of gathering drive temperature, but measurements will always include a temperature sensors.\nStates link“States” are the primitive for any details about a drive measurement that can’t be measured numerically, but which might change over time. Each adapter can add as many states as it wants (or add none). For example, a common state is the Healthy state, which both the DBus and Scrutiny adapters will populate based on whether a drive is failing its SMART checks.\n💡 Sputter automatically adds a state called Source with the names of any adapters that measured each specific drive. "
            }
        );
    index.add(
            {
                id:  13 ,
                href: "\/docs\/reference\/mqtt\/",
                title: "MQTT",
                description: "More details on Sputter's MQTT support.",
                content: " 💡 Both the CLI and Server support publishing drive measurements to an MQTT broker! MQTT Messages linkTopics linkWhen Sputter publishes drive measurements to MQTT, it will publish measurements to a separate topic per-drive. The topic format will be in the format sputter/drv- with a JSON payload. For example:\nTopic Message sputter/drv-Z52CBFRL {\"sensors\":{\"temperature\":39},\"states\":{\"healthy\":\"False\",\"source\":\"scrutiny\"}} Home Assistant Integration linkAs outlined in the "
            }
        );
    search.addEventListener('input', show_results, true);

    function show_results(){
        const maxResult =  5 ;
        const minlength =  0 ;
        var searchQuery = sanitizeHTML(this.value);
        var results = index.search(searchQuery, {limit: maxResult, enrich: true});

        
        const flatResults = new Map(); 
        for (const result of results.flatMap(r => r.result)) {
        if (flatResults.has(result.doc.href)) continue;
        flatResults.set(result.doc.href, result.doc);
        }

        suggestions.innerHTML = "";
        suggestions.classList.remove('d-none');

        
        if (searchQuery.length < minlength) {
            const minCharMessage = document.createElement('div')
            minCharMessage.innerHTML = `Please type at least <strong>${minlength}</strong> characters`
            minCharMessage.classList.add("suggestion__no-results");
            suggestions.appendChild(minCharMessage);
            return;
        } else {
            
            if (flatResults.size === 0 && searchQuery) {
                const noResultsMessage = document.createElement('div')
                noResultsMessage.innerHTML = "No results for" + ` "<strong>${searchQuery}</strong>"`
                noResultsMessage.classList.add("suggestion__no-results");
                suggestions.appendChild(noResultsMessage);
                return;
            }
        }

        
        for(const [href, doc] of flatResults) {
            const entry = document.createElement('div');
            suggestions.appendChild(entry);

            const a = document.createElement('a');
            a.href = href;
            entry.appendChild(a);

            const title = document.createElement('span');
            title.textContent = doc.title;
            title.classList.add("suggestion__title");
            a.appendChild(title);

            const description = document.createElement('span');
            description.textContent = doc.description;
            description.classList.add("suggestion__description");
            a.appendChild(description);

            suggestions.appendChild(entry);

            if(suggestions.childElementCount == maxResult) break;
        }
    }
    }());
</script></body></html>